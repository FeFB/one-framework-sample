{"version":3,"file":"bundle.js","sources":["webpack:///./src/browser.ts","webpack:///./src/app/index.tsx","webpack:///./src/app/components/index.ts","webpack:///./src/app/components/Main.tsx","webpack:///./src/app/collections/index.ts","webpack:///./src/app/collections/Todos.ts","webpack:///./src/app/models/index.ts","webpack:///./src/app/models/Todo.ts","webpack:///./src/app/components/Todos.tsx","webpack:///./src/app/components/Todo.tsx","webpack:///./src/app/components/Input.tsx"],"sourcesContent":["\"use strict\";\nvar app_1 = require('./app');\napp_1.one.bootstrap();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/browser.ts\n ** module id = 1\n ** module chunks = 0\n **/","\"use strict\";\nvar one_framework_1 = require('one-framework');\nexports.one = one_framework_1.one;\nexports.Sync = one_framework_1.Sync;\nvar components_1 = require('./components');\nvar collections_1 = require('./collections');\ncollections_1.TodosCollection.instance.shareContext('collectionCode');\none_framework_1.one.url = process.env.NODE_ENV === 'production' ? 'https://one-framework-sample.herokuapp.com' : 'http://localhost:3000';\none_framework_1.one.routes = {\n    path: '/',\n    component: components_1.MainComponent,\n    indexRoute: {\n        component: components_1.TodosComponent\n    },\n    childRoutes: [{\n            path: '/:status',\n            component: components_1.TodosComponent\n        }]\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/index.tsx\n ** module id = 2\n ** module chunks = 0\n **/","\"use strict\";\nvar Main_1 = require('./Main');\nexports.MainComponent = Main_1.Main;\nvar Todos_1 = require('./Todos');\nexports.TodosComponent = Todos_1.Todos;\nvar Todo_1 = require('./Todo');\nexports.TodoComponent = Todo_1.Todo;\nvar Input_1 = require('./Input');\nexports.InputComponent = Input_1.Input;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/components/index.ts\n ** module id = 599\n ** module chunks = 0\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar React = require('react');\nvar one_framework_1 = require('one-framework');\nvar react_router_1 = require('react-router');\nvar collections_1 = require('../collections');\nvar Main = (function (_super) {\n    __extends(Main, _super);\n    function Main(props) {\n        _super.call(this, props);\n        this.collection = collections_1.TodosCollection.instance;\n    }\n    Main.preServer = function () {\n        return collections_1.TodosCollection.instance.fetch({\n            reset: true\n        });\n    };\n    Main.prototype.render = function () {\n        return (React.createElement(\"section\", null, React.createElement(\"div\", {className: \"ui pointing menu\"}, React.createElement(react_router_1.Link, {className: \"item\", activeClassName: \"active\", onlyActiveOnIndex: true, to: \"/\"}, \"All\"), React.createElement(react_router_1.Link, {className: \"item\", activeClassName: \"active\", to: \"/done\"}, \"Done\"), React.createElement(\"div\", {className: \"right menu\"}, React.createElement(\"a\", {className: \"item\", href: \"https://github.com/feliperohdee/one-framework-sample\"}, \"Source\"))), this.props.children));\n    };\n    return Main;\n}(one_framework_1.Component));\nexports.Main = Main;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/components/Main.tsx\n ** module id = 600\n ** module chunks = 0\n **/","\"use strict\";\nvar Todos_1 = require('./Todos');\nexports.TodosCollection = Todos_1.Todos;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/collections/index.ts\n ** module id = 601\n ** module chunks = 0\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar one_framework_1 = require('one-framework');\nvar models_1 = require('../models');\nvar Todos = (function (_super) {\n    __extends(Todos, _super);\n    function Todos() {\n        _super.call(this, models_1.TodoModel);\n        this.resource = '/api/v1/todos';\n        this.defaultOrder = {\n            done: 'desc',\n            text: 'asc'\n        };\n    }\n    Object.defineProperty(Todos, \"instance\", {\n        get: function () {\n            return one_framework_1.utils.exportSingleton(Todos);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Todos.prototype.add = function (text) {\n        this.set({ text: text });\n    };\n    return Todos;\n}(one_framework_1.Collection));\nexports.Todos = Todos;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/collections/Todos.ts\n ** module id = 602\n ** module chunks = 0\n **/","\"use strict\";\nvar Todo_1 = require('./Todo');\nexports.TodoModel = Todo_1.Todo;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/models/index.ts\n ** module id = 603\n ** module chunks = 0\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar one_framework_1 = require('one-framework');\nvar Todo = (function (_super) {\n    __extends(Todo, _super);\n    function Todo() {\n        _super.call(this);\n        this.defaults = {\n            text: '',\n            done: false\n        };\n    }\n    Todo.prototype.done = function () {\n        this.set({ done: true })\n            .save()\n            .subscribe();\n    };\n    Todo.prototype.remove = function () {\n        this.delete()\n            .subscribe();\n    };\n    return Todo;\n}(one_framework_1.Model));\nexports.Todo = Todo;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/models/Todo.ts\n ** module id = 604\n ** module chunks = 0\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar _ = require('lodash');\nvar React = require('react');\nvar one_framework_1 = require('one-framework');\nvar collections_1 = require('../collections');\nvar _1 = require('./');\nvar Todos = (function (_super) {\n    __extends(Todos, _super);\n    function Todos(props) {\n        _super.call(this, props);\n        this.todos = collections_1.TodosCollection.instance;\n        this.setInitialState({\n            todos: this.todos.filter(props.params.status)\n        });\n    }\n    Todos.prototype.componentDidMount = function () {\n        var _this = this;\n        this.todos.on('set', 'remove')\n            .merge(this.onRoute.mapTo(this.todos))\n            .takeUntil(this.onUnmount)\n            .map(function (todos) { return todos.filter(_this.props.params.status); })\n            .subscribe(function (todos) { return _this.setState({ todos: todos }); });\n    };\n    Todos.prototype.render = function () {\n        var todos = this.state.todos.map(function (todo) { return React.createElement(_1.TodoComponent, {key: todo.cid, todo: todo}); });\n        return (React.createElement(\"section\", {className: \"ui divided list\"}, _.size(todos) ? todos : React.createElement(\"div\", {className: \"item\"}, \"No todos\"), React.createElement(_1.InputComponent, {todos: this.todos})));\n    };\n    return Todos;\n}(one_framework_1.Component));\nexports.Todos = Todos;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/components/Todos.tsx\n ** module id = 605\n ** module chunks = 0\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar React = require('react');\nvar one_framework_1 = require('one-framework');\nvar Todo = (function (_super) {\n    __extends(Todo, _super);\n    function Todo(props) {\n        var _this = this;\n        _super.call(this, props);\n        this.lastSet = props.todo.lastSet;\n        this.fromPool('onDone')\n            .subscribe(function (e) {\n            e.stopPropagation();\n            _this.props.todo.done();\n        });\n        this.fromPool('onDestroy')\n            .subscribe(function (e) {\n            e.stopPropagation();\n            _this.props.todo.remove();\n        });\n    }\n    Todo.prototype.shouldComponentUpdate = function (nextProps) {\n        var shouldUpdate = false;\n        if (this.lastSet !== nextProps.todo.lastSet) {\n            this.lastSet = nextProps.todo.lastSet;\n            shouldUpdate = true;\n        }\n        return shouldUpdate;\n    };\n    Todo.prototype.render = function () {\n        var _this = this;\n        return (React.createElement(\"div\", {className: 'item ' + (this.props.todo.get('done') ? 'done' : ''), onClick: function (e) { return _this.toPool('onDone', e); }}, React.createElement(\"div\", {className: \"right floated content\"}, React.createElement(\"button\", {className: \"ui icon red circular button\", onClick: function (e) { return _this.toPool('onDestroy', e); }}, React.createElement(\"i\", {className: \"trash icon\"}))), React.createElement(\"div\", {className: \"content text\"}, React.createElement(\"i\", {className: 'icon ' + (this.props.todo.get('done') ? 'checkmark box' : 'square outline')}), this.props.todo.get('text'))));\n    };\n    return Todo;\n}(one_framework_1.Component));\nexports.Todo = Todo;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/components/Todo.tsx\n ** module id = 606\n ** module chunks = 0\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar React = require('react');\nvar one_framework_1 = require('one-framework');\nvar Input = (function (_super) {\n    __extends(Input, _super);\n    function Input(props) {\n        var _this = this;\n        _super.call(this, props);\n        this.fromPool('onAddTask')\n            .subscribe(function (e) {\n            if (e.keyCode === 13) {\n                var target = e.target;\n                var text = target.value;\n                target.value = '';\n                _this.props.todos.add(text);\n            }\n        });\n    }\n    Input.prototype.render = function () {\n        var _this = this;\n        return (React.createElement(\"div\", {className: \"ui form\"}, React.createElement(\"div\", {className: \"field\"}, React.createElement(\"label\", null, \"Add Todo\"), React.createElement(\"input\", {type: \"text\", placeholder: \"Add todo and press enter\", onKeyUp: function (e) { return _this.toPool('onAddTask', e); }}))));\n    };\n    return Input;\n}(one_framework_1.Component));\nexports.Input = Input;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/components/Input.tsx\n ** module id = 607\n ** module chunks = 0\n **/"],"mappings":";;;;;;;;;;;;;AAAA;AACA;AACA;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC1BA;AACA;AACA;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC9BA;AACA;AACA;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;","sourceRoot":""}